# 🚀 新会话启动指南

**项目**: 房源数据分析与智能问答系统
**最后更新**: 2025-07-02
**当前状态**: 🎨 **RAG页面风格优化阶段**

---

## 📋 **项目当前状态概览**

### **主要系统**
1. **房源数据分析系统** - 100%完成，双数据库架构(MySQL+MongoDB)
2. **RAG智能问答模块** - 100%完成，企业级AI问答功能

### **技术架构**
- **后端**: Django 4.2.16
- **数据库**: MongoDB (主) + MySQL (备)
- **AI服务**: 火山方舟 doubao-embedding + doubao-1-5-pro
- **向量检索**: FAISS
- **前端**: Bootstrap + JavaScript

---

## 🤖 **RAG智能问答模块详情**

### **功能状态** ✅
- **智能问答**: 自然语言房源查询，回答质量专业
- **多数据源**: MongoDB实时数据 + 文件数据源
- **重置管理**: 界面重置 + 命令行后门
- **数据规模**: 支持1000条数据，性能优秀

### **访问信息**
- **地址**: http://127.0.0.1:8000/mongo/rag/
- **账户**: test4071741 / 0515
- **推荐数据**: houses_1000_enhanced.json (1000条房源)

### **性能指标**
- **初始化**: 60秒 (1000条数据)
- **问答响应**: 6秒内
- **内存使用**: 150MB
- **数据质量**: 企业级，价格户型准确

---

## 🔧 **关键文件位置**

### **项目根目录**
```
D:/Program Files/cursor-workpace/房源数据分析与价格预测/
```

### **重要文档**
```
docs/current/
├── 项目当前状态_2025_07_01.md      - 项目总体状态
├── RAG开发进度记录_2025_07_01.md   - RAG开发详情
├── RAG系统重置和扩展指南.md        - 重置和管理指南
└── RAG智能问答使用指南.md          - 用户使用指南
```

### **RAG核心文件**
```
rag_module/                          - RAG核心模块
├── documents/houses_1000_enhanced.json - 1000条生产数据
app_mongo/rag_views.py               - RAG视图
templates/mongo/rag_interface.html   - RAG界面
reset_rag_system.py                  - 重置脚本
```

---

## 🚀 **快速启动步骤**

### **1. 启动系统**
```bash
# 进入项目目录
cd "D:/Program Files/cursor-workpace/房源数据分析与价格预测"

# 启动Django服务器
python manage.py runserver 8000
```

### **2. 访问RAG系统**
```
1. 访问: http://127.0.0.1:8000/mongo/rag/
2. 登录: test4071741 / 0515
3. 选择: "从文件初始化" → houses_1000_enhanced.json
4. 等待: 系统初始化完成(约60秒)
5. 开始: 输入问题进行智能问答
```

### **3. 测试问题示例**
```
- "海珠区有什么房子？"
- "3室2厅的房子价格如何？"
- "最便宜的房子在哪里？"
- "推荐一些性价比高的房源"
```

---

## 🔧 **管理员功能**

### **界面管理**
- **系统状态**: 查看运行状态
- **清空缓存**: 释放内存
- **重建索引**: 刷新数据
- **重置系统**: 完全重置(需输入"RESET")
- **切换数据源**: MongoDB ↔ 文件数据源

### **命令行工具**
```bash
# 系统重置
python reset_rag_system.py

# 性能测试
python test_1000_performance.py

# 创建1000条数据
python create_1000_data.py
```

---

## 📊 **数据文件说明**

### **可用数据文件**
```
rag_module/documents/
├── houses_test_100.json      - 100条 (0.04MB) - 快速测试
├── houses_optimized_200.json - 200条 (0.09MB) - 开发调试
└── houses_1000_enhanced.json - 1000条(0.39MB) - 生产使用 ⭐
```

### **数据质量**
- **户型分布**: 1-4室全覆盖，分布合理
- **价格范围**: 1000-4000+元，梯度完整
- **城市覆盖**: 广州11个区域
- **数据完整性**: 标题、位置、价格、面积等字段完整

---

## ⚠️ **注意事项**

### **系统依赖**
- **MongoDB**: 需要运行在默认端口
- **Python包**: 已安装RAG相关依赖
- **API密钥**: 火山方舟API已配置

### **常见问题**
1. **系统卡住**: 使用重置功能
2. **数据不准确**: 重建索引
3. **性能慢**: 减少数据量或清空缓存
4. **登录失败**: 检查session认证

### **性能建议**
- **推荐配置**: 1000条数据文件
- **内存要求**: 至少2GB可用内存
- **网络要求**: 稳定的互联网连接(API调用)

---

## 📞 **技术支持**

### **关键信息**
- **项目类型**: Django + MongoDB + AI
- **开发状态**: 生产就绪
- **测试覆盖**: 100%功能验证
- **文档完整性**: 详细的使用和管理文档

### **故障排除优先级**
1. 查看 `docs/current/项目当前状态_2025_07_01.md`
2. 使用 `reset_rag_system.py` 重置系统
3. 检查Django服务器日志
4. 验证MongoDB连接状态

---

---

## 🎨 **当前开发任务** (2025-07-02)

### **任务概述**
- **任务名称**: RAG页面风格与主系统保持一致
- **任务状态**: 方案设计阶段，等待用户选择
- **执行方式**: 仅修改页面样式，不整合侧边栏
- **目标**: 保持功能完整性的同时统一视觉风格

### **已完成工作**
- ✅ 项目名称统一为"房源数据分析与智能问答系统"
- ✅ RAG页面回退到简洁Bootstrap风格（功能正常）
- ✅ API密钥安全化配置
- ✅ 创建密钥管理工具

### **待选择方案**
1. **方案1（推荐）**: 保持布局，更换主题色彩
2. **方案2**: 面板风格统一
3. **方案3**: 混合风格优化

### **重要文档**
- `docs/current/项目当前状态_2025_07_02.md` - 最新项目状态
- `docs/current/RAG开发进度记录_2025_07_01.md` - RAG开发详情
- `issues/项目名称统一与RAG页面风格统一任务.md` - 任务记录

---

**新会话建议**: 先阅读 `docs/current/项目当前状态_2025_07_02.md` 了解最新状态，然后根据当前开发任务选择RAG页面风格方案。

**项目状态**: 🎨 **RAG页面风格优化阶段，等待用户选择方案**
